# Railway 배포 설정 파일
# https://docs.railway.app/develop/variables#railwaytoml
# 
# Railway는 Gradle 프로젝트를 자동으로 감지합니다.
# builder 필드는 제거하고 buildCommand만 사용합니다.

[build]
# Gradle 빌드 명령어 (테스트 제외)
# bash를 명시적으로 사용하여 실행 권한 문제 해결
buildCommand = "bash ./gradlew build -x test"

[deploy]
# 애플리케이션 시작 명령어
startCommand = "java -jar build/libs/INET-0.0.1-SNAPSHOT.jar"

# Health check 설정
healthcheckPath = "/"
healthcheckTimeout = 300

# 재시작 정책
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
