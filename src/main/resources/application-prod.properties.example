########################################
# INET 운영 환경 설정 예시 파일
# 
# 사용 방법:
# 1. 이 파일을 복사해서 application-prod.properties 로 이름 변경
# 2. ${환경변수이름} 부분을 실제 값으로 채우거나, Docker 환경변수로 설정
# 3. 실제 비밀번호는 절대 이 파일에 직접 적지 마세요!
########################################

########################################
# 서버 포트
########################################
server.port=8082
server.address=0.0.0.0

########################################
# 프로파일 (운영 환경)
########################################
spring.profiles.active=prod

########################################
# 데이터베이스 연결 (환경변수로 설정 필수!)
########################################
# Docker 배포 시 환경변수로 실제 값 전달
# 예: docker run -e SPRING_DATASOURCE_URL="jdbc:mysql://..." ...
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/inet?useSSL=false&serverTimezone=Asia/Seoul&characterEncoding=UTF-8}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:비밀번호를_여기에_직접_적지_마세요}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

########################################
# JPA / Hibernate (운영 환경 안전 설정)
########################################
# 운영에서는 자동 스키마 변경 금지 (데이터 손실 방지)
spring.jpa.hibernate.ddl-auto=none

# SQL 로그 출력 비활성화 (성능 향상)
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

########################################
# Flyway (DB 마이그레이션)
########################################
# 운영 환경에서는 Flyway 활성화 권장
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.locations=classpath:db/migration
spring.flyway.validate-on-migrate=true

########################################
# Thymeleaf (운영 환경 최적화)
########################################
# 템플릿 캐시 활성화 (성능 향상)
spring.thymeleaf.cache=true
spring.thymeleaf.mode=HTML
spring.thymeleaf.encoding=UTF-8

########################################
# 정적 리소스 (운영 환경 최적화)
########################################
spring.web.resources.cache.period=3600
spring.web.resources.chain.cache=true

########################################
# DevTools (운영 환경 비활성화)
########################################
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

########################################
# 로깅 설정 (운영 환경)
########################################
logging.level.root=INFO
logging.level.com.inet=INFO
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN
logging.level.org.springframework.security=WARN

# 로그 파일 설정
logging.file.name=logs/spring.log
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# 로그 파일 롤링 설정 (선택사항)
logging.logback.rollingpolicy.max-history=30
logging.logback.rollingpolicy.max-file-size=10MB

########################################
# 관리자 계정 초기화 (환경변수로 설정 가능)
########################################
# 운영 환경에서는 반드시 기본 비밀번호 변경 권장!
# admin.account.username=${ADMIN_USERNAME:admin}
# admin.account.password=${ADMIN_PASSWORD:admin123!}

